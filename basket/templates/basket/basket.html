{% extends 'base.html' %}
{% load static %}

{% block page_header %}
{% endblock %}

{% block content %}
<div class="container">
    <div class="row card-panel black">
        <div class="lime accent-3 col m2 offset-m5">
            <h3 class="center">Basket</h3>
        </div>
    </div>
</div>
<div class="container">
    <div class="row">
        <div class="col s10 m6 l5">
            <ul class="collection with-header">
                <li class="collection-header lime accent-3">
                    <h4>Your Basket</h4>
                </li>
                {% if basket_items %}
                    {% for basket_item in basket_items %}
                    <li class="collection-item avatar">
                        <img src="{{ basket_item.product.image.url }}" alt="{{ basket_item.product.name }}" class="circle">
                        <span class="title">{{ basket_item.product.name }} ({{ basket_item.product.sku|upper }})</span>
                        {% if basket_item.product.has_sizes %}
                            <p>{{ basket_item.size|upper }} <br>
                        {% else %}
                        <br><br>
                        {% endif %}
                            {{ basket_item.quantity }} x £{{ basket_item.product.price }}
                        </p>
                        <span class="secondary-content">
                            <p class="black-text">Subtotal: £{{ item.product.price }}</p>
                            <a href="#!" class="black-text"><i class="material-icons">grade</i></a>
                            <a href="#!" class="black-text"><i class="material-icons">grade</i></a>
                        </span>
                    </li>
                {% endfor %}
            </ul>
            {% else %}
            </ul>
            <p class="white-text mb-5">Your basket is empty.</p>
            <a href="{% url 'products' %}" class="lime accent-3 waves-effect waves-light btn">
                <span class="black-text">
                    <i class="large material-icons">chevron_left</i>
                </span>
                <span class="black-text">Continue Shopping</span>
            </a>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}